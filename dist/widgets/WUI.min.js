var WUI=new function(){"use strict";var a={display_none:"wui-display-none",hide_fi_500:"wui-hide-fi-500",hide_show_500:"wui-show-fi-500",draggable:"wui-draggable"},b=[],c=null,d=null,e=null,f=0,g=0,h=function(b,c,d){var e=function(){d&&b.classList.add(a.display_none),c&&c(),b.removeEventListener("transitionend",e)};return e},i=function(h){h.preventDefault();var i,l=h.clientX,m=h.clientY,n=h.changedTouches;if(h.target.classList.contains(a.draggable)){if(null===c)if(n)e=n[0].identifier,l=n[0].clientX,m=n[0].clientY;else if(0!==h.button)return;i=b[parseInt(h.target.dataset.wui_draggable_id,10)],c=void 0!==i.target_element?i.target_element:h.target,d=parseInt(c.dataset.wui_draggable_id,10),document.body.style.cursor="move",i.virtual?(i=b[d],f=l-parseInt(i.x,10),g=m-parseInt(i.y,10)):(f=l-parseInt(c.style.left,10),g=m-parseInt(c.style.top,10)),window.addEventListener("mousemove",j,!1),window.addEventListener("touchmove",j,!1),window.addEventListener("mouseup",k,!1),window.addEventListener("touchend",k,!1)}},j=function(a){a.preventDefault();var h,i=a.clientX,j=a.clientY,k=a.changedTouches,l=null,m=b[d],n=m.x,o=m.y;if(k)for(h=0;h<k.length;h+=1)if(l=k[h],l.identifier===e){i=k[h].clientX,j=k[h].clientY;break}0!==m.axisLock&&(n=i-f,m.virtual||(c.style.left=n+"px"),m.x=n),1!==m.axisLock&&(o=j-g,m.virtual||(c.style.top=o+"px"),m.y=o),m&&void 0!==m.cb&&m.cb(c,n,o)},k=function(a){a.preventDefault();var d,f=a.changedTouches,g=null;if(0!==b.length)if(f){for(d=0;d<f.length;d+=1)if(g=f[d],g.identifier===e){c=null,document.body.style.cursor="default",window.removeEventListener("touchmove",j,!1),window.removeEventListener("touchend",k,!1);break}}else c=null,document.body.style.cursor="default",window.removeEventListener("mousemove",j,!1),window.removeEventListener("mouseup",k,!1)};this.fadeOut=function(b,c,d,e){void 0!==c&&null!==c||(c=500),transition_str="visibility 0s ease-in-out "+c+"ms, opacity "+c+"ms ease-in-out",void 0===b.style.WebkitTransition?b.style.transition=transition_str:b.style.WebkitTransition=transition_str,b.addEventListener("transitionend",h(b,d,e),!1),b.classList.add(a.hide_fi_500),b.classList.remove(a.hide_show_500)},this.fadeIn=function(b,c){void 0!==c&&null!==c||(c=500),transition_str="visibility 0s ease-in-out 0s, opacity "+c+"ms ease-in-out",void 0===b.style.WebkitTransition?b.style.transition=transition_str:b.style.WebkitTransition=transition_str,b.classList.remove(a.hide_fi_500),b.classList.add(a.hide_show_500),b.classList.remove(a.display_none)},this.draggable=function(c,d,e,f){c.classList.contains(a.draggable)||(c.classList.add(a.draggable),c.addEventListener("mousedown",i,!1),c.addEventListener("touchstart",i,!1),c.dataset.wui_draggable_id=b.length,b.push({cb:d,element:c,target_element:f,axisLock:null,virtual:e,x:parseInt(c.style.left,10),y:parseInt(c.style.top,10)}))},this.undraggable=function(c){if(c.classList.contains(a.draggable)){c.classList.remove(a.draggable),c.removeEventListener("mousedown",i,!1),c.removeEventListener("touchstart",i,!1);var d,e=parseInt(c.dataset.wui_draggable_id,10);for(b.splice(e,1),d=0;d<b.length;d+=1){var f=b[d];f.element.dataset.wui_draggable_id=d}}},this.lockDraggable=function(c,d){if(c.classList.contains(a.draggable)){var e=b[parseInt(c.dataset.wui_draggable_id,10)];e.axisLock="x"===d?0:"y"===d?1:null}}};