var WUI=new function(){"use strict";var a={display_none:"wui-display-none",hide_fi_500:"wui-hide-fi-500",hide_show_500:"wui-show-fi-500",draggable:"wui-draggable"},b=[],c=null,d=null,e=0,f=0,g=function(b,c,d){var e=function(){d&&b.classList.add(a.display_none),c&&c(),b.removeEventListener("transitionend",e)};return e},h=function(b){b.preventDefault();var g=b.clientX,h=b.clientY,k=b.changedTouches;if(b.target.classList.contains(a.draggable)){if(null===c)if(k)d=k[0].identifier,g=k[0].clientX,h=k[0].clientY;else if(0!==b.button)return;c=b.target,document.body.style.cursor="move",e=g-parseInt(c.style.left,10),f=h-parseInt(c.style.top,10),window.addEventListener("mousemove",i,!1),window.addEventListener("touchmove",i,!1),window.addEventListener("mouseup",j,!1),window.addEventListener("touchend",j,!1)}},i=function(a){a.preventDefault();var g,h=a.clientX,i=a.clientY,j=a.changedTouches,k=null,l=b[parseInt(c.dataset.wui_draggable_id,10)],m=l.x,n=l.y;if(j)for(g=0;j.length>g;g+=1)if(k=j[g],k.identifier===d){h=j[g].clientX,i=j[g].clientY;break}0!==l.axisLock&&(m=h-e,c.style.left=m+"px",l.x=m),1!==l.axisLock&&(n=i-f,c.style.top=n+"px",l.y=n),l&&l.cb(c,m,n)},j=function(a){a.preventDefault();var e,f=a.changedTouches,g=null;if(0!==b.length)if(f){for(e=0;f.length>e;e+=1)if(g=f[e],g.identifier===d){c=null,document.body.style.cursor="default",window.removeEventListener("touchmove",i,!1),window.removeEventListener("touchend",j,!1);break}}else c=null,document.body.style.cursor="default",window.removeEventListener("mousemove",i,!1),window.removeEventListener("mouseup",j,!1)};this.fadeOut=function(b,c,d,e){(void 0===c||null===c)&&(c=500),void 0===b.style.WebkitTransition?b.style.transition="visibility 0s ease-in-out "+c+"ms, opacity "+c+"ms ease-in-out":b.style.WebkitTransition="visibility 0s ease-in-out "+c+"ms, opacity "+c+"ms ease-in-out",b.addEventListener("transitionend",g(b,d,e),!1),b.classList.add(a.hide_fi_500),b.classList.remove(a.hide_show_500)},this.fadeIn=function(b,c){(void 0===c||null===c)&&(c=500),void 0===b.style.WebkitTransition?b.style.transition="visibility 0s ease-in-out 0s, opacity "+c+"ms ease-in-out":b.style.WebkitTransition="visibility 0s ease-in-out 0s, opacity "+c+"ms ease-in-out",b.classList.remove(a.hide_fi_500),b.classList.add(a.hide_show_500),b.classList.remove(a.display_none)},this.draggable=function(c,d,e){if(d){if(c.classList.contains(a.draggable))return;c.classList.add(a.draggable),c.addEventListener("mousedown",h,!1),c.addEventListener("touchstart",h,!1),c.dataset.wui_draggable_id=b.length,b.push({cb:e,element:c,axisLock:null,x:parseInt(c.style.left,10),y:parseInt(c.style.top,10)})}else{if(!c.classList.contains(a.draggable))return;c.classList.remove(a.draggable),c.removeEventListener("mousedown",h,!1),c.removeEventListener("touchstart",h,!1);var f,g=parseInt(c.dataset.wui_draggable_id,10);for(b.splice(g,1),f=0;b.length>f;f+=1){var i=b[f];i.element.dataset.wui_draggable_id=f}}},this.lockDraggable=function(c,d){if(c.classList.contains(a.draggable)){var e=b[parseInt(c.dataset.wui_draggable_id,10)];e.axisLock="x"===d?0:"y"===d?1:null}}};