var WUI_CircularMenu=new function(){"use strict";var a=[],b=0,c={item:"wui-circularmenu-item",show:"wui-circularmenu-show",content:"wui-circularmenu-content"},d={x:null,y:null,rx:64,ry:48,angle:0,item_width:32,item_height:32,window:null,element:null},e=function(b){var c,d;for(d=0;d<a.length;d+=1)c=a[d],b.body.contains(c)&&b.body.removeChild(c)},f=function(a,d){var f=function(g){g.preventDefault();var h=(new Date).getTime();h-b<=500||g.target.classList.contains(c.item)||(e(d),a.removeEventListener("mousedown",f))};return f},g=function(a,b,c){var d=function(d){d.preventDefault(),c(),e(b),a.removeEventListener("mousedown",f(a,b))};return d},h=function(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,j=b.left+f-h;return{top:Math.round(i),left:Math.round(j),width:b.width,height:b.height}},i=function(a){return a*(Math.PI/180)},j=function(d,h,j,k,l,m){e(k);var n,o,p,q,r,s=-(Math.PI/2)+i(d.angle),t=h.length,u=2*Math.PI/t;for(q=0;q<t;q+=1)p=h[q],n=document.createElement("div"),n.classList.add(c.item),n.style.width=d.item_width+"px",n.style.height=d.item_height+"px",n.style.backgroundSize=d.item_width-4+"px "+(d.item_height-4)+"px",n.style.left=l+d.rx*Math.cos(s)+"px",n.style.top=m+d.ry*Math.sin(s)+"px",n.classList.add(p.icon),p.tooltip&&(n.title=p.tooltip),p.content&&(o=document.createElement("div"),o.style.width=d.item_width+"px",o.style.height=d.item_height+"px",o.classList.add(c.content),o.innerHTML=p.content,n.appendChild(o)),k.body.appendChild(n),j.getComputedStyle(n).width,a.push(n),p.on_click&&n.addEventListener("click",g(j,k,p.on_click)),p.on_right_click&&n.addEventListener("contextmenu",g(j,k,p.on_right_click)),p.on_middle_click&&n.addEventListener("auxclick",g(j,k,p.on_middle_click)),n.classList.add(c.show),s+=u;r=f(j,k),b=(new Date).getTime(),j.addEventListener("mousedown",r)};this.create=function(a,b){var c,e,f,g,i,k={},l=document,m=window;for(c in d)d.hasOwnProperty(c)&&(k[c]=d[c]);if(void 0!==a)for(c in a)a.hasOwnProperty(c)&&void 0!==d[c]&&(k[c]=a[c]);g=k.element,null!==g?(i=h(g),l=g.ownerDocument,m=l.defaultView||l.parentWindow,e=i.left+(i.width-k.item_width)/2,f=i.top+(i.height-k.item_height)/2,j(k,b,m,l,e,f)):null!==e&&null!==f&&(null!==k.window&&(m=k.window,l=m.document),e=k.x-k.item_width/2,f=k.y-k.item_height/2,j(k,b,m,l,e,f))}};