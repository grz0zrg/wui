var WUI_DropDown=new function(){"use strict";var a={},b={g:"wui-dropdown",item:"wui-dropdown-item",content:"wui-dropdown-content",selected:"wui-dropdown-selected",open:"wui-dropdown-open",h:"wui-dropdown-on"},c={width:"auto",height:24,i:2e3,vertical:!1,j:0,k:0,l:null},d=function(a){var b=a.ownerDocument,c=a.getBoundingClientRect(),d=b.body,e=b.documentElement,f=b.defaultView||b.parentWindow,g=f.pageYOffset||e.scrollTop||d.scrollTop,h=f.pageXOffset||e.scrollLeft||d.scrollLeft,i=e.clientTop||d.clientTop||0,j=e.clientLeft||d.clientLeft||0,k=c.top+g-i,l=c.left+h-j;return{top:Math.round(k),left:Math.round(l)}},e=function(a,c){var d,e=a.createElement("div"),f=null,g="";for(d=0;d<c.m.length;d+=1)g=c.m[d],f=a.createElement("div"),c.o.vertical||f.classList.add("wui-dropdown-horizontal"),f.classList.add(b.item),f.innerHTML=g,f.dataset.index=d,e.appendChild(f),f.addEventListener("click",h,!1),g===c.m[c.k]&&f.classList.add(b.selected);e.addEventListener("mouseover",i,!1),e.classList.add(b.content),e.dataset.p=c.q.id,a.body.appendChild(e),c.s=e},f=function(a,c,d){c.classList.remove(b.h),d.s&&d.s.parentElement===a.body&&a.body.removeChild(d.s),d.s=null,d.t=null},g=function(c){c.preventDefault(),c.stopPropagation();var d=c.target,e=null,g=null;d.classList.contains(b.g)&&(e=a[d.id],g=e.s,g?g.classList.contains(b.open)&&f(c.target.ownerDocument,d,e):i(c))},h=function(c){c.preventDefault(),c.stopPropagation();var d,e,g=c.target,h=null,i=null;if(g.classList.contains(b.item)){for(h=g.parentElement,d=a[h.dataset.p],i=h.getElementsByTagName("div"),e=0;e<i.length;e+=1)i[e].classList.remove(b.selected);g.classList.add(b.selected),d.k=parseInt(g.dataset.index,10),d.u.lastElementChild.innerHTML=g.textContent,d.q!==d.u&&(d.q.lastElementChild.innerHTML=g.textContent),void 0!==d.o.l&&d.o.l(g.dataset.index),f(g.ownerDocument,d.u,d)}},i=function(c){c.preventDefault(),c.stopPropagation();var f=c.target,g=null,h=null,i=null,k=f.ownerDocument,l=k.defaultView||k.parentWindow;if(f.classList.contains(b.g))g=a[f.id],null===g.s&&(f.classList.add(b.h),e(k,g),i=g.s,h=d(f),i.style.top=h.top-i.offsetHeight-g.o.j+"px",i.style.left=h.left+"px",i.classList.add(b.open),g.u=f);else if(f.classList.contains(b.content))g=a[f.dataset.p];else{if(!f.classList.contains(b.item))return;g=a[f.parentElement.dataset.p]}l.clearTimeout(g.t),f.addEventListener("mouseleave",j,!1)},j=function(c){c.preventDefault();var d=c.target,e=null,g=d.ownerDocument,h=g.defaultView||g.parentWindow;e=d.classList.contains(b.content)?a[d.dataset.p]:d.classList.contains(b.item)?a[d.parentElement.dataset.p]:a[d.id],e.t=h.setTimeout(f,e.o.i,g,e.u,e),d.removeEventListener("mouseleave",j,!1)},k=function(){console.log("WUI_RangeSlider 'create' failed, first argument not an id nor a DOM element.")};this.create=function(d,e,f){var h,j,l={};if("string"==typeof d)h=document.getElementById(d);else{if("object"!=typeof d)return void k();if("string"!=typeof d.innerHTML)return void k();h=d,d=h.id}if(void 0!==a[d])return void console.log("WUI_DropDown id '"+d+"' already created, aborting.");for(j in c)c.hasOwnProperty(j)&&(l[j]=c[j]);if(void 0!==e)for(j in e)e.hasOwnProperty(j)&&void 0!==c[j]&&(l[j]=e[j]);h.classList.add(b.g),h.style.width=l.width,h.style.height=l.height;var m=document.createElement("div");m.classList.add("wui-dropdown-icon"),h.appendChild(m);var n=document.createElement("div");n.classList.add("wui-dropdown-text"),0!==f.length&&(n.innerHTML=f[l.k]),h.appendChild(n),h.addEventListener("click",g,!1),h.addEventListener("mouseover",i,!1);var o={q:h,s:null,k:l.k,m:f,o:l,v:n,A:0,u:null,t:null};return a[d]=o,d},this.B=function(b){var c,d=a[b];return void 0===d?void console.log("Element id '"+b+"' is not a WUI_DropDown, destroying aborted."):(c=d.q,f(document,c,d),c.parentElement.removeChild(c),void delete a[b])}};