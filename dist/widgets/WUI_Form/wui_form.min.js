var WUI_Form=new function(){"use strict";var a={},b={form:"wui-form",main_group:"wui-form-main-group",sub_group:"wui-form-sub-group",sub_group_div:"wui-form-sub-group-div",tn:"wui-form-tn",sm:"wui-form-sm",md:"wui-form-md",xl:"wui-form-xl",align_right:"wui-form-align-right",inline:"wui-form-inline"},c={width:"auto",on_change:null},d={wui_item:"wui_form_item_",std_item:"wui_form_std_item_"},e={checkbox:"input",text:"input",color:"input",date:"input","datetime-local":"input",email:"input",file:"input",hidden:"input",image:"input",month:"input",number:"input",radio:"input",range:"input",reset:"input",search:"input",submit:"input",tel:"input",time:"input",url:"input",week:"input",password:"input"},f=["button","datalist","input","label","legend","meter","select","textarea","checkbox","text","color","date","datetime-local","email","file","hidden","image","month","number","radio","range","reset","search","submit","tel","time","url","week","password"],g=["WUI_RangeSlider","WUI_Input","WUI_DropDown"],h=function(a){window.WUI_Reporting&&"undefined"!=typeof console&&console.log(a)},i=function(a,b){var c;for(c in a)a.hasOwnProperty(c)&&b.setAttribute(c,a[c])},j=function(a,b){return function(c){b(c,a)}},k=function(a,c,h,l,m,n){var o,p,q,r,s,t,u,v,w,x,y,z,A,B=0,C=0,D=m;for(void 0===a?(o=document.createElement("div"),q=document.createElement("legend")):(o=document.createElement("fieldset"),q=document.createElement("legend"),q.innerHTML=a),void 0!==c&&i(c,o),o.appendChild(q),B=0;B<l.length;B+=1)if(p=l[B],p.type)if(f.indexOf(p.type)!==-1){if(s=null,e[p.type]?(t=document.createElement(e[p.type]),t.type=p.type,z=t):(t=document.createElement(p.type),z=t),p.wrap&&(s=document.createElement("div"),s.appendChild(t),z=s),t.id=d.std_item+D+"_"+h.id,n.on_change&&t.addEventListener("change",j({},n.on_change)),p.group&&(t.name=p.group),p.label&&(u=document.createElement("label"),u.setAttribute("for",t.id),u.innerHTML=p.label,null===s?o.appendChild(u):z.insertBefore(u,t),"input"===p.type&&(u.appendChild(t),z=u)),p.attr&&i(p.attr,t),("select"===p.type||"datalist"===p.type)&&("datalist"===p.type&&(x=document.createElement("input"),x.setAttribute("list",t.id),p.id&&x.setAttribute("id",p.id),p.name&&x.setAttribute("name",p.name),z.appendChild(x)),p.options))for(w=t,C=0;C<p.options.length;C+=1)A=p.options[C],"object"==typeof A&&A.group&&(w=document.createElement("optgroup"),w.setAttribute("label",A.group),A.group_attr&&i(A.group_attr,w),t.appendChild(w)),v=document.createElement("option"),"string"==typeof A?(v.innerHTML=A,w.appendChild(v)):"object"==typeof A&&A.name&&(v.innerHTML=A.name,w.appendChild(v),A.label&&v.setAttribute("label",A.label),"booleans"==typeof A.disabled&&v.setAttribute("disabled",A.disabled),"booleans"==typeof A.selected&&v.setAttribute("selected",A.selected),A.value&&v.setAttribute("value",A.value),A.attr&&i(A.attr,v));p.value&&(t.value=p.value),o.appendChild(z),D+=1}else g.indexOf(p.type)!==-1?window[p.type]&&(r=document.createElement("div"),r.id=d.wui_item+D,window[p.type].create(r,p.opts,p.items),o.appendChild(r),D+=1):"fieldset"===p.type&&p.items&&(y={style:""},p.class?(y.class=p.class,y.class+=" "+b.sub_group):y.class=b.sub_group,p.style&&(y.style+=p.style),p.width&&(y.style+="width: "+p.width),p.height&&(y.style+="height: "+p.height),"right"===p.content_align&&(y.class+=" "+b.align_right),p.inline&&(y.class+=" "+b.inline),p.items_size?"tn"===p.items_size?y.class+=" "+b.tn:"sm"===p.items_size?y.class+=" "+b.sm:"md"===p.items_size?y.class+=" "+b.md:"xl"===p.items_size&&(y.class+=" "+b.xl):y.class+=" "+b.sm,void 0===p.name&&(y.class+=" "+b.sub_group_div),D=k(p.name,y,o,p.items,D,n));return h.appendChild(o),D},l=function(){h("WUI_Form 'create' failed, first argument not an id nor a DOM element.")};this.create=function(d,e,f){var g,i,j,m=0,n={};if("string"==typeof d)g=document.getElementById(d);else{if("object"!=typeof d)return void l();if("string"!=typeof d.innerHTML)return void l();g=d,d=g.id}if(void 0!==a[d])return void h("WUI_Form id '"+d+"' already created, aborting.");for(j in c)c.hasOwnProperty(j)&&(n[j]=c[j]);if(void 0!==e)for(j in e)e.hasOwnProperty(j)&&void 0!==c[j]&&(n[j]=e[j]);for(j in f)f.hasOwnProperty(j)&&(i=f[j],m=k(j,{class:b.main_group},g,i,0,n));return g.style.width=n.width,g.classList.add(b.form),a[d]={element:g,total_items:m,opts:n},d},this.destroy=function(b){var c,e,f,i,j=a[b];if(void 0===j)return void h("Element id '"+b+"' is not a WUI_Form, destroying aborted.");for(c=j.element,f=0;f<j.total_items;f+=1)if(e=document.getElementById(d.wui_item+f+"_"+c.id))for(i=0;i<g.length;i+=1)window[g[i]].destroy(e);delete a[b]}};