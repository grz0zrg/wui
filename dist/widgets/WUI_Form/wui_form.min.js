var WUI_Form=new function(){"use strict";var a={},b={form:"wui-form",main_group:"wui-form-main-group",sub_group:"wui-form-sub-group"},c={width:"auto"},d={wui_item:"wui_form_item_",std_item:"wui_form_std_item_"},e={checkbox:"input",text:"input",color:"input",date:"input","datetime-local":"input",email:"input",file:"input",hidden:"input",image:"input",month:"input",number:"input",radio:"input",range:"input",reset:"input",search:"input",submit:"input",tel:"input",time:"input",url:"input",week:"input",password:"input"},f=["button","datalist","input","label","legend","meter","select","textarea","checkbox","text","color","date","datetime-local","email","file","hidden","image","month","number","radio","range","reset","search","submit","tel","time","url","week","password"],g=["WUI_RangeSlider","WUI_Input","WUI_DropDown"],h=function(a){window.WUI_Reporting&&"undefined"!=typeof console&&console.log(a)},i=function(a,b){var c;for(c in a)a.hasOwnProperty(c)&&void 0===b[c]&&b.setAttribute(c,a[c])},j=function(a,c,h,k,l){var m,n,o,p,q,r,s,t,u,v,w,x,y,z=0,A=0,B=l;for(m=document.createElement("fieldset"),o=document.createElement("legend"),o.innerHTML=a,void 0!==c&&(m.className=c),m.appendChild(o),z=0;z<k.length;z+=1)if(n=k[z],n.type)if(f.indexOf(n.type)!==-1){if(q=null,e[n.type]?(r=document.createElement(e[n.type]),r.type=n.type,x=r):(r=document.createElement(n.type),x=r),n.wrap&&(q=document.createElement("div"),q.appendChild(r),x=q),r.id=d.std_item+B,n.label&&(s=document.createElement("label"),s.setAttribute("for",r.id),s.innerHTML=n.label,null===q?m.appendChild(s):x.insertBefore(s,r),"input"===n.type&&(s.appendChild(r),x=s)),n.attr&&i(n.attr,r),("select"===n.type||"datalist"===n.type)&&("datalist"===n.type&&(v=document.createElement("input"),v.setAttribute("list",r.id),n.id&&v.setAttribute("id",n.id),n.name&&v.setAttribute("name",n.name),x.appendChild(v)),n.options))for(u=r,A=0;A<n.options.length;A+=1)y=n.options[A],"object"==typeof y&&y.group&&(u=document.createElement("optgroup"),u.setAttribute("label",y.group),y.group_attr&&i(y.group_attr,u),r.appendChild(u)),t=document.createElement("option"),"string"==typeof y?(t.innerHTML=y,u.appendChild(t)):"object"==typeof y&&y.name&&(t.innerHTML=y.name,u.appendChild(t),y.label&&t.setAttribute("label",y.label),"booleans"==typeof y.disabled&&t.setAttribute("disabled",y.disabled),"booleans"==typeof y.selected&&t.setAttribute("selected",y.selected),y.value&&t.setAttribute("value",y.value),y.attr&&i(y.attr,t));n.value&&(x.value=n.value),m.appendChild(x),B+=1}else g.indexOf(n.type)!==-1?window[n.type]&&(p=document.createElement("div"),p.id=d.wui_item+B,window[n.type].create(p,n.opts,n.items),m.appendChild(p),B+=1):"fieldset"===n.type&&n.items&&n.name&&(n.class?(w=n.class,w+=" "+b.sub_group):w=b.sub_group,B=j(n.name,w,m,n.items,B));return h.appendChild(m),B},k=function(){h("WUI_Form 'create' failed, first argument not an id nor a DOM element.")};this.create=function(d,e,f){var g,i,l,m=0,n={};if("string"==typeof d)g=document.getElementById(d);else{if("object"!=typeof d)return void k();if("string"!=typeof d.innerHTML)return void k();g=d,d=g.id}if(void 0!==a[d])return void h("WUI_Form id '"+d+"' already created, aborting.");for(l in c)c.hasOwnProperty(l)&&(n[l]=c[l]);if(void 0!==e)for(l in e)e.hasOwnProperty(l)&&void 0!==c[l]&&(n[l]=e[l]);for(l in f)f.hasOwnProperty(l)&&(i=f[l],m=j(l,b.main_group,g,i,0));return g.style.width=n.width,g.classList.add(b.form),a[d]={element:g,total_items:m,opts:n},d},this.destroy=function(b){var c,e,f,i,j=a[b];if(void 0===j)return void h("Element id '"+b+"' is not a WUI_Form, destroying aborted.");for(c=j.element,f=0;f<j.total_items;f+=1)if(e=document.getElementById(d.wui_item+f))for(i=0;i<g.length;i+=1)window[g[i]].destroy(e);delete a[b]}};